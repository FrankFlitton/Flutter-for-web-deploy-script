# Flutter for web Build Pipeline Script
> Use Flutter for web with your existing cloud build tools.

## Installation
The installation of this script is as lightweight as possible.
1. Place the `build-web.sh` script beside your pubspec.yaml file.
2. Add the following command to your pipeline.
```bash
sh ./build-web.sh
```

You may need to change the path called depending on your repo structure or tools.

## Build Config Example (Netlify)
Here is an example config for Netlify that would be stored in their `netlify.toml` file at the root directory of your repo. In a monorepo structure, you would only have to change `build` to point to your flutter app directory.

```bash
[build]
  # Directory to change to before starting a build.
  base = "./"

  # Directory that contains the deploy-ready HTML files and assets generated by
  # the build. This is relative to the base directory if one has been set, or the
  # root directory if a base has not been set.
  publish = "build/web"

  # Flutter build for web command
  command = "sh ./build-web.sh"
```

## How it works
The script installs the beta version of Flutter to your deploy pipline container. If your build pipeline caches build artifacts Flutter will only be downloaded once.

## Assets
Flutter for web moves your static assets under a new `/assets/` folder. The path in the sever looks like `/assets/myAssets/*`. This results in some 404 errors.

The script assumes you have an `/assets` folder in your project where your images and other static assets are stored and copies them to the expected location.
